<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin</title>

    <!--font awesome-->
    <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Marck+Script&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lato:wght@700&family=Marck+Script&display=swap" rel="stylesheet">

    <!--css file-->
    <link rel="stylesheet" href="người dùng-chỉnh sửa.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  </head>
  <body>
    <div class="sidebar">
      <div class="logo">
        <span class="logo-name">Travel</span>
      <span class="logo-name__Trangquảntrị">Trang quản trị</span>
      </div>

      <ul class="nav-list">
        <li>
            <div class="profile-details">
              <div class="profile-content">
                <img src="https://top10dienbien.com/wp-content/uploads/2022/10/avatar-cute-9.jpg" alt="" />
              </div>
  
              <div class="name-job">
                <div class="name"> Phong</div>
                <div class="job">Admin</div>
              </div>
              <i class="fas fa-right-to-bracket"></i>
            </div>
          </li>

        <li>
          <div class="icon-link">
          <a href="#">
            <i class="bi bi-house-door-fill"></i>
            <span class="link-name">Trang chủ</span>
          </a>
  </div>
          <ul class="sub-menu blank">
            <li><a href="#" class="link-name">Trang chủ</a></li>
          </ul>
        </li>

        <li>
          <div class="icon-link">
            <a href="#">
                <i class="bi bi-clipboard2-fill"></i>
              <span class="link-name">Quản lí Tour</span>
            </a>
            <i class="fas fa-caret-down arrow"></i>
          </div>

          <ul class="sub-menu">
            <li><a href="#" class="link-name">Quản lí Tour</a></li>
            <li><a href="#">Địa điểm</a></li>
            <li><a href="#">Danh mục</a></li>
            <li><a href="#">Tours</a></li>
          </ul>
        </li>

        <li>
          <div class="icon-link">
            <a href="quản lí bài viết - danh sách bài đăng.html">
              <i class="fa-sharp fa-solid fa-file-pen"></i>
              <span class="link-name">Bài viết</span>
            </a>
            <i class="fas fa-caret-down arrow"></i>
          </div>

          <ul class="sub-menu">
            <li><a href="#" class="link-name">Bài viết</a></li>
            <li><a href="quản lí bài viết - danh sách bài đăng.html">Bài viết</a></li>
            <li><a href="Quản lí bài viết danh mục.html">Danh mục</a></li>
          </ul>
        </li>

        
        <li>
          <div class="icon-link">
          <a href="#">
            <i class="bi bi-calendar-fill"></i>
            <span class="link-name">Đặt tour</span>
          </a>
        </div>
          <ul class="sub-menu blank">
            <li><a href="#" class="link-name">Đặt tour</a></li>
          </ul>
        </li>

        <li>
          <div class="icon-link">
          <a href="Phân quyền.html">
            <i class="fa-solid fa-sitemap"></i>
            <span class="link-name">Phân quyền</span>
          </a>
        </div>
          <ul class="sub-menu blank">
            <li><a href="#" class="link-name">Phân quyền</a></li>
          </ul>
        </li>



        <li>
          <div class="icon-link">
          <a href="người dùng-danh sách.html">
            <i class="bi bi-person-fill"></i>
            <span class="link-name">Người dùng</span>
          </a>
        </div>
          <ul class="sub-menu blank">
            <li><a href="" class="link-name">Người dùng</a></li>
          </ul>
        </li>

        <!-- <li>
          <div class="profile-details">
            <div class="profile-content">
              <img src="profile.jpg" alt="" />
            </div>

            <div class="name-job">
              <div class="name">Mary Karen</div>
              <div class="job">Web Developer</div>
            </div>
            <i class="fas fa-right-to-bracket"></i>
          </div>
        </li>  -->
      </ul>
    </div>

    <div class="home-section">
      <header class="home-content">
        <i class="fas fa-bars"></i>
        <!-- <button class="btn btn-primary" type="button">Button</button> -->
        <button class="Login" type="button">Đăng xuất</button>
        <!-- <span class="text">Dropdown Sidebar Menu</span> -->
      </header>

      <div class="under__header">
        <div class="under__header-content">
          <i class="bi bi-house-door-fill"></i>
          <a href="#" class="=content-name">Trang chủ</a>
          <p>/</p>
          <a href="người dùng-danh sách.html" class="=content-name"> Người dùng</a>
          <p>/</p>
          <p class="DM">Chỉnh sửa</p>
        </div>
      </div>

      <div class="blue-button">
        <button class="blue-button__Lưudữliệu" onclick="saveDataAndNavigate()">
            <i class="bi bi-folder-fill"></i>
            Lưu 
          </button>
        <button class="blue-button__Tạomới" type="reset" value="Reset" onclick="resetInputs()">
          <i class="bi bi-arrow-clockwise"></i>
          Reset
        </button>
       

      </div>
       <div class="Tạomới">
        <div class="avatar">
            <div class="avatar-content">
                <img src="https://top10dienbien.com/wp-content/uploads/2022/10/avatar-cute-9.jpg" id="selectedImage" alt="Selected Image"/>
            <p>Avatar</p>
            <button class="avatar-button__Tạomới" onclick="selectImage()"> Chọn tệp</button>
            <input type="file" id="fileInput" style="display: none;" onchange="displayImage()">
            </div>
        </div>

        <div class="form">
        <form action="/action_page.php">
        <div class="Têndanhmục">
        <p class="Têndanhmục-name">Họ và tên <span style="color: #FF0505;">(*)</span></p>
        <input class="Têndanhmục-input" placeholder="Họ và tên" type="text" value="Vũ Thanh Phong" id="hvt">
        <div class="error-message"></div>
        </input>
      </div>

      <div class="Email">
        <p class="Email-name">Email <span style="color: #FF0505;">(*)</span></p>
        <input class="Email-input" placeholder="Email" type="text" value="phongvtl69@gmail.com" id="em">
        <div class="error-message"></div>
        </input>
      </div>

      <div class="Sốđiệnthoại">
        <p class="Sốđiệnthoại-name">Số điện thoại <span style="color: #FF0505;">(*)</span></p>
        <input class="Sốđiệnthoại-input" placeholder="Số điện thoại" type="text" value="012345678" id="sdt">
        <div class="error-message"></div>
        </input>
      </div>

      <div class="Vaitrò">
        <p class="Vaitrò-name">Vai trò </p>
        <select name="vaitrò" id="TD">
            <option value="Nhân viên">Nhân viên</option>
            <option value="Admintrator">Admintrator</option>
        </select>
      </div>
    </form>
  </div>
    </div>
    </div>

  
    <script src="sidebar.js"></script>
    <script>
        function resetInputs() {
                 // Lấy ra giá trị rỗng
                 var emptyValue = '';

// Đặt lại giá trị của từng trường nhập thành rỗng
document.getElementById("hvt").value = emptyValue;
document.getElementById("em").value = emptyValue;
document.getElementById("sdt").value = emptyValue;
}



function validateInput() {
let formElement = document.querySelector(".form") 


let inputElement1 = formElement.querySelectorAll(".Têndanhmục-input")
 for (let i = 0; i < inputElement1.length; i++) {
    if (inputElement1[i].value === "") {
     inputElement1[i].parentElement.querySelector(".error-message").innerText = `Dữ liệu chưa được nhập`
}else
    {
inputElement1[i].parentElement.querySelector(".error-message").innerText = ""
         }
}


let inputElement2 = formElement.querySelectorAll(".Sốđiệnthoại-input")
 for (let i = 0; i < inputElement2.length; i++) {
    if (inputElement2[i].value === "") {
     inputElement2[i].parentElement.querySelector(".error-message").innerText = `Dữ liệu chưa được nhập`
}else
    {
inputElement2[i].parentElement.querySelector(".error-message").innerText = ""
         }
}


let inputElement3 = formElement.querySelectorAll(".Email-input")
 for (let i = 0; i < inputElement3.length; i++) {
    if (inputElement3[i].value === "") {
     inputElement3[i].parentElement.querySelector(".error-message").innerText = `Dữ liệu chưa được nhập`
}else
    {
inputElement3[i].parentElement.querySelector(".error-message").innerText = ""
         }
}



}


function saveDataAndNavigate() {
  validateInput()
  if(localStorage.getItem("1")) {
            // Lấy dữ liệu từ input
            var Name = document.getElementById("hvt").value;
            var Email = document.getElementById("em").value;
            var phone = document.getElementById("sdt").value;
            var role = document.getElementById("TD").value;
           
           
           

                    // Tạo một đối tượng chứa thông tin người dùng và hình ảnh
                    var userData = {
                        Name: Name,
                        Email: Email,
                        phone:phone,
                       role: role
                    };

                    // Lưu đối tượng vào local storage
                    localStorage.setItem("userData1", JSON.stringify(userData));

                    // Chuyển đến trang khác hoặc thực hiện các hành động khác
                    // window.location.href = "nextPage.html";
                    alert('Chỉnh sửa thành công.');
                     window.location.href = "người dùng-danh sách.html";
                  } else if (localStorage.getItem("2")) {
                     // Lấy dữ liệu từ input
            var Name = document.getElementById("hvt").value;
            var Email = document.getElementById("em").value;
            var phone = document.getElementById("sdt").value;
            var role = document.getElementById("TD").value;
           
           
                    // Tạo một đối tượng chứa thông tin người dùng và hình ảnh
                    var userData = {
                        Name: Name,
                        Email: Email,
                        phone:phone,
                       role: role
                    };

                    // Lưu đối tượng vào local storage
                    localStorage.setItem("userData2", JSON.stringify(userData));

                    // Chuyển đến trang khác hoặc thực hiện các hành động khác
                    // window.location.href = "nextPage.html";
                    alert('Chỉnh sửa thành công.');
                     window.location.href = "người dùng-danh sách.html";
                } else if (localStorage.getItem("3")) {
                     // Lấy dữ liệu từ input
            var Name = document.getElementById("hvt").value;
            var Email = document.getElementById("em").value;
            var phone = document.getElementById("sdt").value;
            var role = document.getElementById("TD").value;
           
           
                    // Tạo một đối tượng chứa thông tin người dùng và hình ảnh
                    var userData = {
                        Name: Name,
                        Email: Email,
                        phone:phone,
                       role: role
                    };

                    // Lưu đối tượng vào local storage
                    localStorage.setItem("userData3", JSON.stringify(userData));

                    // Chuyển đến trang khác hoặc thực hiện các hành động khác
                    // window.location.href = "nextPage.html";
                    alert('Chỉnh sửa thành công.');
                     window.location.href = "người dùng-danh sách.html";
                } else if (localStorage.getItem("4")) {
                     // Lấy dữ liệu từ input
            var Name = document.getElementById("hvt").value;
            var Email = document.getElementById("em").value;
            var phone = document.getElementById("sdt").value;
            var role = document.getElementById("TD").value;
           
           
                    // Tạo một đối tượng chứa thông tin người dùng và hình ảnh
                    var userData = {
                        Name: Name,
                        Email: Email,
                        phone:phone,
                       role: role
                    };

                    // Lưu đối tượng vào local storage
                    localStorage.setItem("userData4", JSON.stringify(userData));

                    // Chuyển đến trang khác hoặc thực hiện các hành động khác
                    // window.location.href = "nextPage.html";
                    alert('Chỉnh sửa thành công.');
                     window.location.href = "người dùng-danh sách.html";
                }
              }
            
       
           if(localStorage.getItem("1")) {
           // Lấy dữ liệu từ local storage
           var rowData1 = JSON.parse(localStorage.getItem("1"));
           if (rowData1) {
           document.getElementById("hvt").value = rowData1.Name;
           document.getElementById("em").value = rowData1.Email;
           document.getElementById("sdt").value = rowData1.phone;
           document.getElementById("TD").value = rowData1.role;
           }
      } else if(localStorage.getItem("2")){
        // Lấy dữ liệu từ local storage
        var rowData2 = JSON.parse(localStorage.getItem("2"));
           if (rowData2) {
           document.getElementById("hvt").value = rowData2.Name;
           document.getElementById("em").value = rowData2.Email;
           document.getElementById("sdt").value = rowData2.phone;
           document.getElementById("TD").value = rowData2.role;
           }
      } else if(localStorage.getItem("3")){
        // Lấy dữ liệu từ local storage
        var rowData3 = JSON.parse(localStorage.getItem("3"));
           if (rowData3) {
           document.getElementById("hvt").value = rowData3.Name;
           document.getElementById("em").value = rowData3.Email;
           document.getElementById("sdt").value = rowData3.phone;
           document.getElementById("TD").value = rowData3.role;
           }
          }
          else if(localStorage.getItem("4")){
        // Lấy dữ liệu từ local storage
        var rowData4 = JSON.parse(localStorage.getItem("4"));
           if (rowData4) {
           document.getElementById("hvt").value = rowData4.Name;
           document.getElementById("em").value = rowData4.Email;
           document.getElementById("sdt").value = rowData4.phone;
           document.getElementById("TD").value = rowData4.role;
           }
          }


function selectImage() {
        // Khi nút "Chọn ảnh" được nhấp, kích hoạt sự kiện click của ô chọn file ẩn
        document.getElementById('fileInput').click();
    }

    function displayImage() {
        var input = document.getElementById('fileInput');
        var image = document.getElementById('selectedImage');

        // Kiểm tra xem có tệp tin nào được chọn hay không
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            // Đọc nội dung của tệp tin và hiển thị vào thẻ <img>
            reader.onload = function (e) {
                image.src = e.target.result;
            };

            reader.readAsDataURL(input.files[0]);
        }
    }


    function Redirect(src)
{
       window.location ="người dùng-chỉnh sửa.html";
}
    </script>
  </body>
</html>